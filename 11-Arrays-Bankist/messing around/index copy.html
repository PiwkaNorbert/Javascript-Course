<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Kody Legimi</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/messing around/table.css" />
  </head>
  <style></style>
  <body>
    <nav>
      <div class="nav-position">
        <img
          class="logo"
          src="https://biblioteka.krakow.pl/legimi_stat/Logo-BK.png"
          title="Digital Library in Krakow"
          alt="Digital Library in Krakow"
          style="width: 200px; max-height: 88px"
        />
        <div class="toggle-position">
          <span>&nbsp;Kolory Dostepności </span>

          <div class="btn btn-cp">
            <div id="palette-colors" class="btn-indicator btn-cp__indicator">
              <div class="btn-icon-container btn-cp__icon-container">
                <i
                  class="fa-solid fa-droplet btn-icon btn-cp__icon"
                  aria-hidden="true"
                ></i>
              </div>
            </div>
          </div>
          <span>&nbsp;Ukryj wyczerpane kody </span>
          <div class="btn btn-hc">
            <div id="hide" class="btn-indicator btn-hc__indicator">
              <div class="btn-icon-container btn-hc__icon-container">
                <i
                  class="fa-solid fa-eye btn-icon btn-hc__icon"
                  aria-hidden="true"
                ></i>
              </div>
            </div>
          </div>
          <span>&nbsp;Tryb Nocny </span>

          <div class="btn btn-dm">
            <div id="darkmode" class="btn-indicator btn-dm-indicator">
              <div class="btn-icon-container btn-dm__icon-container">
                <i
                  class="fa-solid fa-sun btn-icon btn-dm__icon"
                  aria-hidden="true"
                ></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <main class="hi">
      <table id="table">
        <thead>
          <tr>
            <th>Index</th>
            <th>Nazwa</th>
            <th class="number-of-codes">Liczba</th>
            <th>Adres</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td></td>
            <td>Biblioteka Główna</td>
            <td class="number-of-codes-value">40</td>
            <td>ul. Powroźnicza 2</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 1</td>
            <td class="number-of-codes-value">10</td>
            <td>ul. J. Dietla 80/82</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 2</td>
            <td class="number-of-codes-value">7</td>
            <td>ul. Krakowska 29</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 3</td>
            <td class="number-of-codes-value">5</td>
            <td>pl. Nowaka-Jeziorańskiego 3</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 4</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Bobrowskiego 11</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 5</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Lubomirskiego 7a</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 6</td>
            <td class="number-of-codes-value">0</td>
            <td>al. I. Daszyńskiego 22</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 7</td>
            <td class="number-of-codes-value">0</td>
            <td>al. Pokoju 33</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 8</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. J. Brodowicza 1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 9</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Dobrego Pasterza 6</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 10</td>
            <td class="number-of-codes-value">0</td>
            <td>al. 29 Listopada 59</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 11</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Bosaków 11</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 12</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Łąkowa 27</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 13</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. M. Dzielskiego 2</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 14</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Ugorek 14</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 15</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Dobrego Pasterza 100</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 16</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. W. E. Radzikowskiego 29</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 17</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Ojcowska 27</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 18</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. ks. K. Siemaszki 31</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 19</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. W. Łokietka 267</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 20</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Opolska 37</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 21</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Królewska 59</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 22</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. H. Sienkiewicza 2</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 23</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Balicka 297</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 24</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Na Błonie 13d</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 25</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. J. Fałata 2</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 26</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. B. Komorowskiego 11</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 27</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Królowej Jadwigi 37b</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 28</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Komandosów 1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 29</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Praska 52</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 30</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Dziewiarzy 7</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 31</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. J. Kantego Przyzby 10</td>
          </tr>
          <tr>
            <td></td>
            <td>Punkt Biblioteczny</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Zachodnia 7/3a</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 32</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Żywiecka 32</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 33</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Zakopiańska 103</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 34</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Borsucza 12</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 35</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. T. Chałubińskiego 47</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 36</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. H. Niewodniczańskiego 123</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 37</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. J. I. Sztaudyngera 5</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 38</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. W. Sławka 10</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 39</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. por. Halszki 1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 40</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Łużycka 55</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 41</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Gołaśka 13/1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 42</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Agatowa 33</td>
          </tr>
          <tr>
            <td></td>
            <td>Punkt Biblioteczny</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Telimeny 9</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 43</td>
            <td class="number-of-codes-value">5</td>
            <td>ul. gen. J. Jasińskiego 32</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 44</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Spółdzielców 3</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 45</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. Teligi 24</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 46</td>
            <td class="number-of-codes-value">0</td>
            <td>ul. B. Limanowskiego 4</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 47</td>
            <td class="number-of-codes-value">0</td>
            <td>os. Dywizjonu 303 1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 48</td>
            <td class="number-of-codes-value">0</td>
            <td>os. Bohaterów Września 26</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 49</td>
            <td class="number-of-codes-value">0</td>
            <td>os. Tysiąclecia 42</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 50</td>
            <td class="number-of-codes-value">90</td>
            <td>os. Kościuszkowskie 5</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 51</td>
            <td class="number-of-codes-value">89</td>
            <td>os. Kalinowe 4</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 52</td>
            <td class="number-of-codes-value">20</td>
            <td>os. Na Stoku 1</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 53</td>
            <td class="number-of-codes-value">0</td>
            <td>os. Stalowe 12</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 54</td>
            <td class="number-of-codes-value">25</td>
            <td>os. Młodości 8</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 55</td>
            <td class="number-of-codes-value">0</td>
            <td>os. Teatralne 25</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 56</td>
            <td class="number-of-codes-value">25</td>
            <td>os. Zgody 7</td>
          </tr>
          <tr>
            <td></td>
            <td>Filia 56 dzieci</td>
            <td class="number-of-codes-value">25</td>
            <td>os. Zgody 7</td>
          </tr>
        </tbody>
      </table>
    </main>
    <footer class="footer-wrap">
      <div class="ftr-container">
        <span></span>

        <span>
          Copyright<br />
          <a href="https://github.com/mysh3k">Mateusz Rozycki</a> &amp;
          <a href="https://github.com/PiwkaNorbert">Norbert Piwka</a> <br />
          2022 <br />
          Version 1.0
        </span>
      </div>
    </footer>
    <!--
<form method='POST'>
  <input type="hidden" name="csrfmiddlewaretoken" value="Vyv7Kjyz7U9Tt9XLR0OWmRd8MNyD64Tp79ceMBwpdU89jswkUHzI4BDa0DxbHZff">
  <table>

  <tr>
  <td><label>Indeks</label></td>
  <td><input name="index" step="0.1" type="number"></td>
  </tr>
  <tr>
  <td><label>Nazwa filii</label></td>
  <td><input name="filia" type="text"></td>
  </tr>
  <tr>
  <td><label>Liczba kodów</label></td>
  <td><input name="liczba" type="number" value="0"></td>
  </tr>
  <tr>
  <td><label>Adres</label></td>
  <td><input name="adres" type="text"></td>
  </tr>
  <tr>
  <td><input class="submit" type="submit"></td>
  </tr>
  </table>
</form>-->

    <script>
      'use strict';
      const html = document.querySelector('html');
      const submitForm = document.querySelector('.submit');
      const body = document.querySelector('body');
      const navBar = document.querySelector('nav');
      const navPosition = document.querySelector('.nav-position');
      const bodyMain = document.querySelector('main');
      const table = document.querySelector('#table');
      const rowStyle = document.querySelectorAll('#table tr');

      const footerWrapper = document.querySelector('.footer-wrap');

      const rows = document.querySelectorAll('td.number-of-codes-value');

      const btnHideContent = document.querySelector('.btn-hc');
      const btnHCIndicator = document.querySelector('.btn-hc-indicator');
      const btnHCIcon = document.querySelector('.btn-hc__icon');

      const btnColorPalette = document.querySelector('.btn-cp');
      const btnCPIndicator = document.querySelector('.btn-cp-indicator');
      const btnCPIcon = document.querySelector('.btn-cp__icon');

      const btnDarkMode = document.querySelector('.btn-dm');
      const btnDMIndicator = document.querySelector('.btn-dm-indicator');
      const btnDMIcon = document.querySelector('.btn-dm__icon');

      const numberOfCodes =
        document.querySelector('.number-of-codes').textContent;
      let dark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      const tableColorToggle = darkmodeTG => {
        let rows = document.querySelectorAll('#table tr:not(.hidden)');
        var odd = false;

        for (let x = 1; x < rows.length; x++) {
          odd = !odd;
          if (odd) {
            rows[x].classList.remove('odd');
            rows[x].classList.add('even');
          } else {
            rows[x].classList.remove('even');
            rows[x].classList.add('odd');
          }
        }
      };
      const darkmodeToggle = () => {
        navBar.classList.toggle('darkmode');
        navPosition.classList.toggle('darkmode');
        bodyMain.classList.toggle('darkmode');
        body.classList.toggle('darkmode');

        html.classList.toggle('darkmode');
        table.classList.toggle('darkmode');
        footerWrapper.classList.toggle('darkmode');
        btnDarkMode.classList.toggle('btn-dm-colored');
        if (btnDarkMode.classList.contains('btn-dm-colored')) {
          btnDMIcon.classList.remove('fa-sun');
          btnDMIcon.classList.add('fa-moon');
        } else {
          btnDMIcon.classList.remove('fa-moon');
          btnDMIcon.classList.add('fa-sun');
        }
      };
      // to get the content of the td fields
      const colorPaletteToggle = () => {
        btnColorPalette.classList.toggle('btn-colored');

        if (btnColorPalette.classList.contains('btn-colored')) {
          btnCPIcon.classList.remove('fa-droplet');
          btnCPIcon.classList.add('fa-droplet-slash');
        } else {
          btnCPIcon.classList.remove('fa-droplet-slash');
          btnCPIcon.classList.add('fa-droplet');
        }
        rows.forEach(cpRow => {
          let x = Number(cpRow.textContent);
          let cpParent = cpRow.parentNode;
          if (x >= 9) {
            cpParent.classList.toggle('green');
          }
          if (x < 9 && x >= 2) {
            cpParent.classList.toggle('orange');
          }
          if (x < 2 && x === 0) {
            cpParent.classList.toggle('red');
          }
        });
        tableColorToggle();
      };
      // HIDE CONTENT

      const hideContentToggle = () => {
        btnHideContent.classList.toggle('btn-colored');
        if (btnHideContent.classList.contains('btn-colored')) {
          btnHCIcon.classList.remove('fa-eye');
          btnHCIcon.classList.add('fa-eye-slash');
        } else {
          btnHCIcon.classList.remove('fa-eye-slash');
          btnHCIcon.classList.add('fa-eye');
        }
        rows.forEach(hcRow => {
          let x = Number(hcRow.textContent);
          let hcParent = hcRow.parentNode;
          if (x === 0) {
            hcParent.classList.toggle('hidden');
          }
        });
        tableColorToggle();
      };

      function init() {
        let dark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (dark) darkmodeToggle();
      }
      init();
      btnDarkMode.addEventListener('click', darkmodeToggle);
      btnHideContent.addEventListener('click', hideContentToggle);
      btnColorPalette.addEventListener('click', colorPaletteToggle);
    </script>
  </body>
</html>
